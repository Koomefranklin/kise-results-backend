{% extends "common/base.html" %}
{% load static %}

{% block title %}{% if subtitle %}{{ subtitle }} | {% endif %}{{ title }} | {{site_title|default:_('TP') }}{% endblock %}

{% block extrahead %}
  <script>
    window.onload = function () {
      if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(
          (position) => {
            // Get latitude and longitude
            const latitude = position.coords.latitude;
            const longitude = position.coords.longitude;

            // Set the values in the form
            document.getElementById('id_latitude').value = latitude;
            document.getElementById('id_longitude').value = longitude;
          },
          (error) => {
            console.error('Error obtaining location:', error);
              alert('Unable to access your location. Please enable location permissions.');
          }
        );
      } else {
        console.log('Geolocation is not supported by this browser.');
        alert('Geolocation is not supported by your browser.');
      }
    };
  </script>
{% endblock extrahead %}
  
{% block branding %}
<div class="p-0 me-5 text-xl font-bold text-black flex flex-row">
  <div id="main_logo">
    <img
			src="{{ MEDIA_URL }}icons/kise_logo.png"
			width="50"
			height="50" />
  </div>
  <a href="{% url 'index' %}" class="grid place-self-center mx-2">Teaching Practice</a>
</div>
{% if user.is_anonymous %} {% include "admin/color_theme_toggle.html" %} {% endif %}
{% endblock %}
{% block nav-global %}{% endblock %}
{% block nav-sidebar %}
  {% include "teaching_practice/nav_sidebar.html" %}
{% endblock %}